<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Firebase Auth Customizer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

  <style>
    body {
      display: flex;
      margin: 0;
      font-family: sans-serif;
      background: #f1f1f1;
    }

    .preview {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 30px;
    }

    .auth-box {
      width: 300px;
      padding: 20px;
      border-radius: 6px;
      background-color: white;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      text-align: center;
    }

    .auth-box input, .auth-box button {
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      font-size: 14px;
    }

    .customizer {
      width: 350px;
      background: #fff;
      padding: 20px;
      border-left: 2px solid #ccc;
      overflow-y: auto;
      height: 100vh;
    }

    .customizer h2 {
      margin-top: 0;
      font-size: 18px;
      color: #333;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      font-size: 13px;
      margin-bottom: 5px;
    }

    .form-group input, .form-group textarea {
      width: 100%;
      padding: 8px;
      font-size: 14px;
    }

    .btn-row {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    button.copy-btn, button.download-btn {
      flex: 1;
      background: #007BFF;
      color: white;
      border: none;
      padding: 10px;
      cursor: pointer;
      border-radius: 4px;
    }

    button.copy-btn:hover, button.download-btn:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>

<div class="preview">
  <div class="auth-box" id="authBox">
    <h2 id="title">Login</h2>
    <input type="email" placeholder="Email" id="email">
    <input type="password" placeholder="Password" id="password">
    <button id="mainBtn">Login</button>
    <div>
      <small id="toggle" onclick="toggleForm()" style="color: #007BFF; cursor:pointer;">Don't have an account? Register</small>
    </div>
    <div id="msg" style="margin-top:10px; font-size:13px;"></div>
  </div>
</div>

<div class="customizer">
  <h2>Customizer Tool</h2>

  <div class="form-group">
    <label>Firebase API Key</label>
    <input type="text" id="apiKey">
  </div>
  <div class="form-group">
    <label>Auth Domain</label>
    <input type="text" id="authDomain">
  </div>
  <div class="form-group">
    <label>Project ID</label>
    <input type="text" id="projectId">
  </div>
  <div class="form-group">
    <label>App ID</label>
    <input type="text" id="appId">
  </div>
  <div class="form-group">
    <label>Primary Color</label>
    <input type="color" id="colorPicker" value="#007BFF">
  </div>
  <div class="form-group">
    <label>Login Button Text</label>
    <input type="text" id="loginText" value="Login">
  </div>
  <div class="form-group">
    <label>Register Button Text</label>
    <input type="text" id="registerText" value="Register">
  </div>

  <div class="btn-row">
    <button class="copy-btn" onclick="copyCode()">Copy Code</button>
    <button class="download-btn" onclick="downloadCode()">Download</button>
  </div>
</div>

<script>
  let isLogin = true;
  let config = {};

  document.getElementById('colorPicker').addEventListener('input', (e) => {
    document.querySelector('#authBox button').style.backgroundColor = e.target.value;
  });

  document.getElementById('loginText').addEventListener('input', (e) => {
    if (isLogin) document.getElementById('mainBtn').innerText = e.target.value;
  });

  document.getElementById('registerText').addEventListener('input', (e) => {
    if (!isLogin) document.getElementById('mainBtn').innerText = e.target.value;
  });

  function toggleForm() {
    isLogin = !isLogin;
    document.getElementById('title').innerText = isLogin ? 'Login' : 'Register';
    document.getElementById('mainBtn').innerText = isLogin ? document.getElementById('loginText').value : document.getElementById('registerText').value;
    document.getElementById('toggle').innerText = isLogin ? "Don't have an account? Register" : "Already have an account? Login";
  }

  function copyCode() {
    navigator.clipboard.writeText(generateCode());
    alert("Code copied!");
  }

  function downloadCode() {
    const blob = new Blob([generateCode()], {type: "text/html"});
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "firebase-login.html";
    link.click();
  }

  function generateCode() {
    const apiKey = document.getElementById('apiKey').value;
    const authDomain = document.getElementById('authDomain').value;
    const projectId = document.getElementById('projectId').value;
    const appId = document.getElementById('appId').value;
    const btnColor = document.getElementById('colorPicker').value;
    const loginText = document.getElementById('loginText').value;
    const registerText = document.getElementById('registerText').value;

    return `<!DOCTYPE html>
<html>
<head>
  <title>Custom Firebase Login</title>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
</head>
<body>
  <div>
    <h2 id="title">Login</h2>
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">
    <button id="mainBtn" style="background-color:${btnColor}; color:white;">${loginText}</button>
    <p id="toggle" onclick="toggleForm()" style="color:${btnColor}; cursor:pointer;">Don't have an account? Register</p>
    <div id="msg"></div>
  </div>
<script>
const firebaseConfig = {
  apiKey: "${apiKey}",
  authDomain: "${authDomain}",
  projectId: "${projectId}",
  appId: "${appId}"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

let isLogin = true;

function toggleForm() {
  isLogin = !isLogin;
  document.getElementById("title").innerText = isLogin ? "Login" : "Register";
  document.getElementById("mainBtn").innerText = isLogin ? "${loginText}" : "${registerText}";
  document.getElementById("toggle").innerText = isLogin ? "Don't have an account? Register" : "Already have an account? Login";
}

document.getElementById("mainBtn").onclick = function() {
  const email = document.getElementById("email").value;
  const pass = document.getElementById("password").value;
  const msg = document.getElementById("msg");
  if(isLogin){
    auth.signInWithEmailAndPassword(email, pass)
      .then(()=> msg.innerText="Login Success")
      .catch(e=> msg.innerText=e.message);
  } else {
    auth.createUserWithEmailAndPassword(email, pass)
      .then(()=> msg.innerText="Registered Successfully")
      .catch(e=> msg.innerText=e.message);
  }
};
</script>
</body>
</html>`;
  }
</script>

</body>
</html>
